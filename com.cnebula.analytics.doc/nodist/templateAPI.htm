<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>template A P I</title>
<style type="text/css"><!--
/* @group RESET */
/* --------------------------------------------------------------

  Reset.css
  * Resets default browser CSS styles.

  Created by Erik Meyer:
  * meyerweb.com/eric/thoughts/2007/05/01/reset-reloaded/
-------------------------------------------------------------- */

* html {
  overflow-y: auto;
}
html, body {
    height: 100%;
}
--></style>
<link type="text/css" rel="stylesheet" href="_cssAndJsDir_/zyxwiki.css"/>
<link type="text/css" rel="stylesheet" href="_cssAndJsDir_/shThemeDefault.css"/>
<link type="text/css" rel="stylesheet" href="_cssAndJsDir_/shCore.css"/>
<script type="text/javascript" src="_cssAndJsDir_/shCore.js"></script>
<script type="text/javascript" src="_cssAndJsDir_/shCore.js"></script>
<script type="text/javascript" src="_cssAndJsDir_/shBrushCpp.js"></script>
<script type="text/javascript" src="_cssAndJsDir_/shBrushCSharp.js"></script>
<script type="text/javascript" src="_cssAndJsDir_/shBrushCss.js"></script>
<script type="text/javascript" src="_cssAndJsDir_/shBrushGroovy.js"></script>
<script type="text/javascript" src="_cssAndJsDir_/shBrushJavaFX.js"></script>
<script type="text/javascript" src="_cssAndJsDir_/shBrushJScript.js"></script>
<script type="text/javascript" src="_cssAndJsDir_/shBrushPerl.js"></script>
<script type="text/javascript" src="_cssAndJsDir_/shBrushPhp.js"></script>
<script type="text/javascript" src="_cssAndJsDir_/shBrushPlain.js"></script>
<script type="text/javascript" src="_cssAndJsDir_/shBrushPowerShell.js"></script>
<script type="text/javascript" src="_cssAndJsDir_/shBrushPython.js"></script>
<script type="text/javascript" src="_cssAndJsDir_/shBrushRuby.js"></script>
<script type="text/javascript" src="_cssAndJsDir_/shBrushScala.js"></script>
<script type="text/javascript" src="_cssAndJsDir_/shBrushSql.js"></script>
<script type="text/javascript" src="_cssAndJsDir_/shBrushVb.js"></script>
<script type="text/javascript" src="_cssAndJsDir_/shBrushXml.js"></script>
<script type="text/javascript" src="_cssAndJsDir_/shBrushJava.js"></script>
<script type="text/javascript">
SyntaxHighlighter.config.clipboardSwf = '_cssAndJsDir_/clipboard.swf'
SyntaxHighlighter.all();
</script>
  </head>
  <body>

<div id="xwikimaincontainer">
<div id="xwikimaincontainerinner">

<div class="xwikiToc"><ul>
<li class="toc_level_2"><a href="#1_说明"><span class="toctext">1 说明</span></a></li>
<li class="toc_level_2"><a href="#2_站点模板"><span class="toctext">2 站点模板</span></a></li>
<li class="toc_level_3"><a href="#2.1_主站点"><span class="toctext">2.1 主站点</span></a></li>
<li class="toc_level_3"><a href="#2.2_子站点"><span class="toctext">2.2 子站点</span></a></li>
<li class="toc_level_2"><a href="#3_指标模板"><span class="toctext">3 指标模板</span></a></li>
<li class="toc_level_2"><a href="#4_菜单配置"><span class="toctext">4 菜单配置</span></a></li>
</ul>
</div>

<h2><span id="1_说明">1 说明</span></h2>
<p>本文档用于说明日志系统1.1.0以后的版本（含1.1.0版本）中各个模板的说明。<br/></p>
<h2><span id="2_站点模板">2 站点模板</span></h2>
<h3><span id="2.1_主站点">2.1 主站点</span></h3>
<p>代码样例：
<div class="code"><pre class="brush:java">

&lt;div class=&#39;control-bar site&#39;&gt;
	&lt;!--# if(userType == &quot;calis&quot;) { #--&gt;
		&lt;a id=&quot;all&quot; class=&quot;site-selector site-selector-first&quot; hasContainer=&quot;false&quot; filter=&quot;&quot; site=&quot;&quot;&gt;| 全站 |&lt;/a&gt;
		&lt;a id=&quot;calis&quot; class=&quot;site-selector&quot; hasContainer=&quot;false&quot;  filter=&quot;oasc=&#39;100000&#39;&quot; site=&quot;100000&quot;&gt;| 中心站 |&lt;/a&gt;
		&lt;a id=&quot;saas&quot; class=&quot;site-selector&quot; hasContainer=&quot;true&quot; filter=&quot;&quot; site=&quot;&quot;&gt;| 共享域 |&lt;/a&gt;
		&lt;a id=&quot;library&quot; class=&quot;site-selector&quot; hasContainer=&quot;true&quot;&gt;| 成员馆 |&lt;/a&gt;
	&lt;!--# } if(userType == &quot;saas&quot;) { #--&gt;
		&lt;a id=&quot;saas&quot; class=&quot;site-selector site-selector-first&quot; hasContainer=false  filter=&quot;oasc=&#39;+-userCode-+&#39;&quot; site=&quot;+-userCode-+&quot;&gt;| 共享域 |&lt;/a&gt;
		&lt;a id=&quot;library&quot; class=&quot;site-selector&quot; hasContainer=&quot;true&quot;&gt;| 成员馆 |&lt;/a&gt;
	&lt;!--# } #--&gt; 
&lt;/div&gt;
</pre></div>
</p>
<h3><span id="2.2_子站点">2.2 子站点</span></h3>
<h2><span id="3_指标模板">3 指标模板</span></h2>
<h2><span id="4_菜单配置">4 菜单配置</span></h2>
<p>菜单配置文件放置在com.cnebula.analytics.conf/menu下，当前所有菜单配置项放置在menu_config.xml中
一个菜单配置项样例代码如下：
<div class="code"><pre class="brush:java">

&lt;menu funcId=&quot;trend&quot; name=&quot;趋势分析&quot; chartSize=&quot;2&quot; tableSize=&quot;-1&quot; chartShow=&quot;true&quot; tableShow=&quot;true&quot; processType=&quot;alone&quot; 
		timeAp=&quot;true&quot; defaultOat=&quot;all&quot; metricName=&quot;指标：&quot; parentMenu=&quot;wzfx&quot; supportedSite=&quot;all_calis_saas_library&quot; describe=&quot;&quot; loadPage=&quot;&quot; timeCorr=&quot;true&quot;&gt;
		&lt;support id=&quot;all&quot;		&gt;&lt;/support&gt;
		&lt;support id=&quot;eduChina&quot; 	&gt;&lt;/support&gt;
		&lt;support id=&quot;yidu&quot; 		&gt;&lt;/support&gt;
		&lt;support id=&quot;ues&quot; 		&gt;&lt;/support&gt;
		&lt;support id=&quot;aopac&quot; 	&gt;&lt;/support&gt;
		&lt;support id=&quot;ccc&quot;  		&gt;&lt;/support&gt;
		&lt;support id=&quot;uas&quot; 		&gt;&lt;/support&gt;
		&lt;support id=&quot;opac&quot; 		&gt;&lt;/support&gt;
		&lt;support id=&quot;ill&quot; 		&gt;&lt;/support&gt;
		&lt;support id=&quot;ztc&quot; 		&gt;&lt;/support&gt;
		&lt;support id=&quot;nav&quot; 		&gt;&lt;/support&gt;
		&lt;support id=&quot;ubs&quot; 		&gt;&lt;/support&gt;
		&lt;support id=&quot;nps&quot; 		&gt;&lt;/support&gt;
		&lt;support id=&quot;cvrs&quot;  	&gt;&lt;/support&gt;
		&lt;support id=&quot;auopac&quot;	&gt;&lt;/support&gt;
		&lt;support id=&quot;iri&quot; 		&gt;&lt;/support&gt;
	&lt;/menu&gt;
</pre></div>
</p>
<p>菜单配置项结点&lt;menu&gt;&lt;/menu&gt;放置在父结点&lt;menulist&gt;&lt;menulist&gt;下
一个菜单配置项包含的属性有：</p>
<table border='1'><tr><th>属性名称</th><th>含义</th><th>是否必备</th><th>其他说明</th></tr>
<tr><td>funcId</td><td>功能id</td><td>必备</td><td>功能id必须唯一</td></tr>
<tr><td>name</td><td>功能名称</td><td>必备</td><td></td></tr>
<tr><td>chartSize</td><td>该功能支持的图标指标最大选择数目</td><td>非必备</td><td>使用趋势图展示的功能，通常最大选择数为2，排行图展示的功能，通常最大选择数为1</td></tr>
<tr><td>tableSize</td><td>该功能支持的表格指标最大选择数目</td><td>非必备</td><td>默认情况下，可选择任意多个。该值当前未利用，对于一个指标对应多列数据的情况，不使用自定义指标选择，和图表共用同一个指标选择控件</td></tr>
<tr><td>chartShow</td><td>是否显示图表</td><td>非必备</td><td>值设置为“ture”或者“false”，默认情况下为“true”</td></tr>
<tr><td>tableShow</td><td>是否显示表格</td><td>非必备</td><td>值设置为“ture”或者“false”，默认情况下为“true”</td></tr>
<tr><td>processType</td><td>图标和表格指标处理方式</td><td>非必备</td><td>值应为“alone”或“uniform”，“alone”表示图标和表格使用不同的指标选择控制，“uniform”表示使用同一个指标选择控件，当值为“uniform”时，chartSize必须为1，默认情况下为“alone”</td></tr>
<tr><td>timeAp</td><td>是否显示时间刻度</td><td>非必备</td><td>值设置为“ture”或者“false”，默认情况下为“true”</td></tr>
<tr><td>defaultOat</td><td>界面默认的应用系统类型</td><td>非必备</td><td>如不设置，则以第一个应用系统类型为默认类型</td></tr>
<tr><td>metricName</td><td>图标指标控件的提示文字</td><td>必备</td><td>当前系统有“指标：”和“排行榜：”两种类型</td></tr>
<tr><td>parentMenu</td><td>父菜单</td><td>必备</td><td>获得菜单父类节点ID 一级菜单的父类节点为topMenu</td></tr>
<tr><td>supportedSite</td><td>菜单支持的站点</td><td>必备</td><td>all：全站，calis：中心站，saas：共享域，library：成员馆，站点之间用下划线连接</td></tr>
<tr><td>describe</td><td>功能描述</td><td>非必备</td><td>当前字段尚未利用  对于该页面的功能简单描述</td></tr>
<tr><td>loadPage</td><td>加载页面</td><td>非必备</td><td>当前字段尚未利用   左边加载页面</td></tr>
<tr><td>procFunction</td><td>数据处理函数</td><td>非必备</td><td>当前字段尚未利用</td></tr>
<tr><td>timeCorr</td><td>是否显示时间对比</td><td>必备</td><td>当前字段尚未利用     两个时间之间的对比 true为显示或者false不显示</td></tr>
</table>
<p>一个菜单配置项下有若干个support子节点，表示该功能支持的应用系统类型，子节点的属性包括：</p>
<table border='1'><tr><th>属性名称</th><th>含义</th><th>是否必备</th><th>其他说明</th></tr>
<tr><td>id</td><td>应用系统id</td><td>必备</td><td></td></tr>
<tr><td>name</td><td>应用系统中文名称</td><td>必备</td><td>部分应用系统使用id进行显示</td></tr>
<tr><td>filter</td><td>应用系统过滤条件</td><td>必备</td><td>进行查询时的过滤条件</td></tr>
</table>
</div>
</div>
  </body>
</html>